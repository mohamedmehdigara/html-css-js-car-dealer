<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stellar Motors</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6;
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800 flex flex-col min-h-screen">
    <!-- Header -->
    <header class="bg-white shadow-md py-4 px-6 md:px-12 flex justify-between items-center fixed top-0 left-0 w-full z-10">
        <div class="flex items-center space-x-2">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-blue-600" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.182 1.706.703 1.706H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z" />
            </svg>
            <h1 class="text-2xl md:text-3xl font-bold text-gray-900">Stellar Motors</h1>
        </div>
        <nav>
            <a href="#" class="text-sm font-medium text-gray-600 hover:text-blue-600 transition-colors duration-200">About</a>
            <a href="#" class="text-sm font-medium text-gray-600 hover:text-blue-600 transition-colors duration-200 ml-4">Contact</a>
        </nav>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto mt-24 px-4 py-8 flex-grow">
        <h2 class="text-3xl font-semibold text-center text-gray-900 mb-8">Our Inventory</h2>

        <!-- Search and Filter Section -->
        <div class="mb-8 p-6 bg-white rounded-lg shadow-md flex flex-col md:flex-row items-center justify-between space-y-4 md:space-y-0 md:space-x-4">
            <input type="text" id="search-input" placeholder="Search by model..." class="flex-grow w-full md:w-auto px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200">
            <select id="make-filter" class="w-full md:w-auto px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200">
                <option value="">All Makes</option>
            </select>
            <select id="year-filter" class="w-full md:w-auto px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200">
                <option value="">All Years</option>
            </select>
        </div>

        <div id="car-listings" class="grid gap-6 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4">
            <!-- Car cards will be dynamically inserted here -->
        </div>

        <!-- Modal for car details -->
        <div id="details-modal" class="fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center hidden z-50">
            <div class="bg-white rounded-lg shadow-xl p-6 md:p-8 m-4 max-w-lg w-full transform transition-all">
                <div class="flex justify-between items-center mb-4">
                    <h3 id="modal-car-name" class="text-2xl font-bold text-gray-900"></h3>
                    <button id="close-modal" class="text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-400 rounded-full p-1">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
                        </svg>
                    </button>
                </div>
                <div class="flex flex-col md:flex-row md:space-x-6">
                    <img id="modal-car-image" src="" alt="Car Image" class="w-full h-auto object-cover rounded-md mb-4 md:mb-0 md:w-1/2">
                    <div class="md:w-1/2">
                        <p class="text-lg font-medium text-gray-700">Price: <span id="modal-car-price" class="font-bold text-blue-600"></span></p>
                        <p class="mt-2 text-sm text-gray-500" id="modal-car-description"></p>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-900 text-gray-300 py-6 px-4 md:px-12 mt-auto">
        <div class="container mx-auto text-center text-sm">
            <p>&copy; 2023 Stellar Motors. All rights reserved.</p>
            <p class="mt-1">123 Car Avenue, Auto City, CA 90210 | (555) 123-4567</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const carListingsContainer = document.getElementById('car-listings');
            const detailsModal = document.getElementById('details-modal');
            const closeModalBtn = document.getElementById('close-modal');
            const modalCarName = document.getElementById('modal-car-name');
            const modalCarPrice = document.getElementById('modal-car-price');
            const modalCarDescription = document.getElementById('modal-car-description');
            const modalCarImage = document.getElementById('modal-car-image');

            // Filter UI elements
            const searchInput = document.getElementById('search-input');
            const makeFilter = document.getElementById('make-filter');
            const yearFilter = document.getElementById('year-filter');

            // Sample car data
            const cars = [
                {
                    make: 'Honda',
                    model: 'Civic',
                    year: 2022,
                    price: 25000,
                    description: 'The 2022 Honda Civic is a stylish, reliable sedan with excellent fuel economy. Perfect for daily commutes.',
                    image_url: 'https://placehold.co/400x300/e2e8f0/1a202c?text=Honda+Civic'
                },
                {
                    make: 'Tesla',
                    model: 'Model 3',
                    year: 2023,
                    price: 45000,
                    description: 'A groundbreaking electric vehicle with impressive performance and cutting-edge technology. Experience the future of driving.',
                    image_url: 'https://placehold.co/400x300/e2e8f0/1a202c?text=Tesla+Model+3'
                },
                {
                    make: 'Ford',
                    model: 'Mustang',
                    year: 2021,
                    price: 35000,
                    description: 'Classic American muscle car with a powerful engine and iconic design. Turn heads everywhere you go.',
                    image_url: 'https://placehold.co/400x300/e2e8f0/1a202c?text=Ford+Mustang'
                },
                {
                    make: 'Toyota',
                    model: 'RAV4',
                    year: 2023,
                    price: 30000,
                    description: 'A versatile and dependable compact SUV, ideal for family adventures and city driving. Known for its reliability.',
                    image_url: 'https://placehold.co/400x300/e2e8f0/1a202c?text=Toyota+RAV4'
                },
                {
                    make: 'BMW',
                    model: 'X5',
                    year: 2022,
                    price: 60000,
                    description: 'Luxury SUV combining elegant design with powerful performance. Offers a smooth ride and premium features.',
                    image_url: 'https://placehold.co/400x300/e2e8f0/1a202c?text=BMW+X5'
                },
                {
                    make: 'Jeep',
                    model: 'Wrangler',
                    year: 2021,
                    price: 38000,
                    description: 'The ultimate off-road vehicle, built to handle any terrain. Get ready for your next adventure.',
                    image_url: 'https://placehold.co/400x300/e2e8f0/1a202c?text=Jeep+Wrangler'
                },
                {
                    make: 'Chevrolet',
                    model: 'Silverado',
                    year: 2023,
                    price: 42000,
                    description: 'A reliable and strong pickup truck, perfect for work or play. Great towing capacity and rugged build.',
                    image_url: 'https://placehold.co/400x300/e2e8f0/1a202c?text=Chevy+Silverado'
                },
                {
                    make: 'Nissan',
                    model: 'Altima',
                    year: 2022,
                    price: 28000,
                    description: 'A comfortable and spacious sedan with modern features. Offers a great balance of performance and fuel efficiency.',
                    image_url: 'https://placehold.co/400x300/e2e8f0/1a202c?text=Nissan+Altima'
                }
            ];

            // Function to format price
            const formatPrice = (price) => {
                return new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD' }).format(price);
            };

            // Function to display cars based on a filtered array
            const displayCars = (filteredCars) => {
                carListingsContainer.innerHTML = ''; // Clear existing cards
                if (filteredCars.length === 0) {
                    carListingsContainer.innerHTML = '<p class="text-center text-lg text-gray-500 col-span-full">No cars match your search criteria.</p>';
                }

                filteredCars.forEach(car => {
                    const card = document.createElement('div');
                    card.className = 'bg-white rounded-xl shadow-lg hover:shadow-2xl transition-shadow duration-300 overflow-hidden cursor-pointer';
                    card.innerHTML = `
                        <img src="${car.image_url}" onerror="this.onerror=null; this.src='https://placehold.co/400x300/e2e8f0/1a202c?text=Image+Not+Found';" alt="${car.make} ${car.model}" class="w-full h-48 object-cover">
                        <div class="p-6">
                            <h3 class="text-xl font-semibold text-gray-900">${car.make} ${car.model}</h3>
                            <p class="text-gray-500 mt-1">${car.year}</p>
                            <p class="text-2xl font-bold text-blue-600 mt-4">${formatPrice(car.price)}</p>
                            <button class="view-details-btn mt-4 w-full bg-blue-600 text-white font-medium py-2 px-4 rounded-lg shadow-md hover:bg-blue-700 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500" data-car='${JSON.stringify(car)}'>View Details</button>
                        </div>
                    `;
                    carListingsContainer.appendChild(card);
                });
            };

            // Function to filter cars based on UI input
            const filterCars = () => {
                const searchTerm = searchInput.value.toLowerCase();
                const selectedMake = makeFilter.value;
                const selectedYear = yearFilter.value;

                const filtered = cars.filter(car => {
                    const matchesSearch = car.model.toLowerCase().includes(searchTerm);
                    const matchesMake = selectedMake === '' || car.make === selectedMake;
                    const matchesYear = selectedYear === '' || car.year.toString() === selectedYear;

                    return matchesSearch && matchesMake && matchesYear;
                });

                displayCars(filtered);
            };

            // Populate filter dropdowns with unique values
            const uniqueMakes = [...new Set(cars.map(car => car.make))].sort();
            uniqueMakes.forEach(make => {
                const option = document.createElement('option');
                option.value = make;
                option.textContent = make;
                makeFilter.appendChild(option);
            });

            const uniqueYears = [...new Set(cars.map(car => car.year))].sort((a, b) => b - a);
            uniqueYears.forEach(year => {
                const option = document.createElement('option');
                option.value = year;
                option.textContent = year;
                yearFilter.appendChild(option);
            });

            // Add event listeners for filtering
            searchInput.addEventListener('input', filterCars);
            makeFilter.addEventListener('change', filterCars);
            yearFilter.addEventListener('change', filterCars);

            // Show modal on button click (using event delegation)
            carListingsContainer.addEventListener('click', (event) => {
                if (event.target.classList.contains('view-details-btn')) {
                    const carData = JSON.parse(event.target.getAttribute('data-car'));
                    modalCarName.textContent = `${carData.make} ${carData.model}`;
                    modalCarPrice.textContent = formatPrice(carData.price);
                    modalCarDescription.textContent = carData.description;
                    modalCarImage.src = carData.image_url;
                    detailsModal.classList.remove('hidden');
                }
            });

            // Hide modal
            closeModalBtn.addEventListener('click', () => {
                detailsModal.classList.add('hidden');
            });

            // Hide modal if user clicks outside of it
            detailsModal.addEventListener('click', (event) => {
                if (event.target === detailsModal) {
                    detailsModal.classList.add('hidden');
                }
            });

            // Initial display of all cars
            displayCars(cars);
        });
    </script>
</body>
</html>
